(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/home/home"],{2808:function(t,e,i){},"3be2":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement;t._self._c},n=[];i.d(e,"a",function(){return a}),i.d(e,"b",function(){return n})},"5b1e":function(t,e,i){"use strict";i.r(e);var a=i("3be2"),n=i("8e8b");for(var c in n)"default"!==c&&function(t){i.d(e,t,function(){return n[t]})}(c);i("cb78");var o=i("2877"),r=Object(o["a"])(n["default"],a["a"],a["b"],!1,null,null,null);e["default"]=r.exports},"5f4a":function(t,e,i){"use strict";(function(t){i("24e0"),i("921b");a(i("66fd"));var e=a(i("5b1e"));function a(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,i("543d")["createPage"])},"8e8b":function(t,e,i){"use strict";i.r(e);var a=i("a750"),n=i.n(a);for(var c in a)"default"!==c&&function(t){i.d(e,t,function(){return a[t]})}(c);e["default"]=n.a},a750:function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=s(i("2c95")),n=s(i("a891")),c=s(i("6b27")),o=s(i("24ad")),r=i("2f62");function s(t){return t&&t.__esModule?t:{default:t}}function u(t,e){return f(t)||l(t,e)||h()}function h(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function l(t,e){var i=[],a=!0,n=!1,c=void 0;try{for(var o,r=t[Symbol.iterator]();!(a=(o=r.next()).done);a=!0)if(i.push(o.value),e&&i.length===e)break}catch(s){n=!0,c=s}finally{try{a||null==r["return"]||r["return"]()}finally{if(n)throw c}}return i}function f(t){if(Array.isArray(t))return t}function d(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},a=Object.keys(i);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(i).filter(function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable}))),a.forEach(function(e){p(t,e,i[e])})}return t}function p(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var v={data:function(){return{loadModal:!1,activeTab:"0",nVueTitle:null,provinceDataList:[],cityDataList:[],areaDataList:[],activeProvince:"上海市",activeCity:"",activeArea:"",pickerValueDefault:[0,0,0],tabBtnList:[{text:"位置",value:"1",checked:!1},{text:"合租",value:"2",checked:!1},{text:"房间数",value:"3",checked:!1}],city:"上海市",searchParams:{college:"",cotenant_type:"",province:"",city:"",district:"",cotenant_count:""},cotenantType:"",cotenantCount:"",rentTypeList:[{name:"不限",value:""},{name:"预租",value:1},{name:"合租",value:2}],roomCountList:[{name:"不限",value:""},{name:"2户合租",value:2},{name:"3户合租",value:3},{name:"4户合租",value:4},{name:"5户合租",value:5}],productList:[],loadingText:"",showSelectCity:!1,hotCitys:["上海市","北京市","广州市","深圳市","杭州市","天津市","武汉市","重庆市","成都市","苏州市","南京市","荆州市"],value:"杭州",windowHeight:"",scrollIntoId:"F",current:this.city,tempCurrentCity:""}},computed:d({},(0,r.mapState)(["emptyRoomPic"])),onLoad:function(){this.getSystemInfo(),this.init(),this.amapPlugin=new a.default.AMapWX({key:"7c235a9ac4e25e482614c6b8eac6fd8e"}),this.initPosition()},onShow:function(){this.getGroupList(),this.$store.dispatch("getusermsg")},watch:{"searchParams.province":function(t){this.tabBtnList[0].checked=!!t},"searchParams.cotenant_type":function(t){this.tabBtnList[1].checked=!!t},"searchParams.cotenant_count":function(t){this.tabBtnList[2].checked=!!t}},methods:{reloadPosition:function(){this.initPosition()},initPosition:function(){var t=this;this.amapPlugin.getRegeo({success:function(e){"string"==typeof e[0].regeocodeData.addressComponent.city?(t.city=e[0].regeocodeData.addressComponent.city,t.activeCity=e[0].regeocodeData.addressComponent.city):"string"==typeof e[0].regeocodeData.addressComponent.province?(t.city=e[0].regeocodeData.addressComponent.province,t.activeProvince=e[0].regeocodeData.addressComponent.province):(t.city="上海市",t.activeProvince="上海市"),t.searchParams.province=t.activeCity||t.activeProvince,t.getGroupList()},fail:function(e){t.getGroupList(),console.log(e)}}),this.current=this.city},getSystemInfo:function(){var e=this;t.getSystemInfo().then(function(t){var i=u(t,2),a=(i[0],i[1]);e.windowHeight="".concat(a.windowHeight,"px")})},scrollTo:function(t){this.scrollIntoId="#"===t?"current":t},toggleSelectCity:function(){this.showSelectCity=!0},confirmSelectCity:function(){this.searchParams.province="",this.searchParams.district="",this.searchParams.city=this.current,this.activeProvince="",this.activeCity="",this.activeArea="",this.showSelectCity=!1,this.city=this.current,this.getGroupList()},cancelSelectCity:function(){this.showSelectCity=!1,this.getGroupList()},onSelect:function(t){this.current=t},getCurPage:function(){var t=getCurrentPages(),e=t[t.length-1];return e},init:function(){this.provinceDataList=n.default,this.cityDataList=c.default[this.pickerValueDefault[0]],this.areaDataList=o.default[this.pickerValueDefault[0]][this.pickerValueDefault[1]],this.pickerValue=this.pickerValueDefault},confirmPosition:function(){this.searchParams.province=this.activeProvince,this.searchParams.city=this.activeCity,this.searchParams.district=this.activeArea,this.activeTab="0",this.city=this.current,this.getGroupList()},cancelPosition:function(){this.activeTab="0"},chooseEmptyProvince:function(){this.activeProvince="",this.activeCity="",this.activeArea="",this.cityDataList=[],this.areaDataList=[]},chooseEmptyCity:function(){this.activeCity="",this.activeArea="",this.areaDataList=[]},chooseEmptyArea:function(){this.activeArea=""},chooseProvince:function(t,e){this.activeProvince=t.label,this.pickerValueDefault[0]=e,this.cityDataList=c.default[this.pickerValueDefault[0]],this.areaDataList=o.default[this.pickerValueDefault[0]][this.pickerValueDefault[1]]},chooseCity:function(t,e){this.activeCity=t.label,this.pickerValueDefault[1]=e,this.areaDataList=o.default[this.pickerValueDefault[0]][this.pickerValueDefault[1]]},chooseArea:function(t,e){this.activeArea=t.label,this.pickerValueDefault[2]=e},clearKeyword:function(){this.searchParams.college="",this.getGroupList()},toggleTab:function(t){this.activeTab=t.value},toGoods:function(e){t.navigateTo({url:"/pages/home/detail?id=".concat(e.id)})},release:function(){t.navigateTo({url:"/pages/release/release"})},cancelType:function(){this.cotenantType=this.searchParams.cotenant_type,this.activeTab="0"},cancelCount:function(){this.cotenantCount=this.searchParams.cotenant_count,this.activeTab="0"},confirmType:function(){this.searchParams.cotenant_type=this.cotenantType,this.getGroupList()},confirmCount:function(){this.searchParams.cotenant_count=this.cotenantCount,this.getGroupList()},changeRentType:function(t){this.cotenantType=t},changeRentCount:function(t){this.cotenantCount=t},getGroupList:function(){var t=this;this.activeTab="0";var e={};this.searchParams.college&&(e.college=this.searchParams.college),this.searchParams.cotenant_type&&(e.cotenantType=this.searchParams.cotenant_type),this.searchParams.province&&(e.province=this.searchParams.province),this.searchParams.city&&(e.city=this.searchParams.city),this.searchParams.district&&(e.district=this.searchParams.district),e.cotenantCount=this.searchParams.cotenant_count,this.loadingText="正在加载...",console.log(e),this.$api.getGroupList(e).then(function(e){t.loadModal=!1,e.data.forEach(function(t){t.imgUrlList=t.chamber_img_url&&t.chamber_img_url.split(",")||[]}),t.productList=e.data,e.data.length?t.loadingText="":t.loadingText="暂无更多数据"}).catch(function(e){t.loadModal=!1,t.loadingText=""})}}};e.default=v}).call(this,i("543d")["default"])},cb78:function(t,e,i){"use strict";var a=i("2808"),n=i.n(a);n.a}},[["5f4a","common/runtime","common/vendor"]]]);