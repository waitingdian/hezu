(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/home/home"],{"0bf0":function(t,e,i){"use strict";(function(t,a){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=u(i("2c95")),c=u(i("a891")),o=u(i("6b27")),r=u(i("24ad")),s=i("2f62");function u(t){return t&&t.__esModule?t:{default:t}}function h(t,e){return d(t)||f(t,e)||l()}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function f(t,e){var i=[],a=!0,n=!1,c=void 0;try{for(var o,r=t[Symbol.iterator]();!(a=(o=r.next()).done);a=!0)if(i.push(o.value),e&&i.length===e)break}catch(s){n=!0,c=s}finally{try{a||null==r["return"]||r["return"]()}finally{if(n)throw c}}return i}function d(t){if(Array.isArray(t))return t}function p(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},a=Object.keys(i);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(i).filter(function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable}))),a.forEach(function(e){v(t,e,i[e])})}return t}function v(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var m={data:function(){return{loadModal:!1,activeTab:"0",nVueTitle:null,provinceDataList:[],cityDataList:[],areaDataList:[],activeProvince:"上海市",activeCity:"",activeArea:"",pickerValueDefault:[0,0,0],tabBtnList:[{text:"位置",value:"1",checked:!1},{text:"合租",value:"2",checked:!1},{text:"房间数",value:"3",checked:!1}],city:"上海市",searchParams:{college:"",cotenant_type:"",province:"",city:"",district:"",cotenant_count:""},cotenantType:"",cotenantCount:"",rentTypeList:[{name:"不限",value:""},{name:"预租",value:1},{name:"合租",value:2}],roomCountList:[{name:"不限",value:""},{name:"2户合租",value:2},{name:"3户合租",value:3},{name:"4户合租",value:4},{name:"5户合租",value:5}],productList:[],loadingText:"",showSelectCity:!1,hotCitys:["上海市","北京市","广州市","深圳市","杭州市","天津市","武汉市","重庆市","成都市","苏州市","南京市","荆州市"],value:"杭州",windowHeight:"",scrollIntoId:"F",current:this.city,tempCurrentCity:""}},computed:p({},(0,s.mapState)(["emptyRoomPic"])),onLoad:function(){this.getSystemInfo(),this.init(),this.amapPlugin=new n.default.AMapWX({key:"7c235a9ac4e25e482614c6b8eac6fd8e"}),this.initPosition()},onShow:function(){this.getGroupList(),this.$store.dispatch("getusermsg")},watch:{"searchParams.province":function(t){this.tabBtnList[0].checked=!!t},"searchParams.cotenant_type":function(t){this.tabBtnList[1].checked=!!t},"searchParams.cotenant_count":function(t){this.tabBtnList[2].checked=!!t}},methods:{reloadPosition:function(){this.initPosition()},initPosition:function(){var e=this;this.amapPlugin.getRegeo({success:function(t){"string"==typeof t[0].regeocodeData.addressComponent.city?(e.city=t[0].regeocodeData.addressComponent.city,e.activeCity=t[0].regeocodeData.addressComponent.city):"string"==typeof t[0].regeocodeData.addressComponent.province?(e.city=t[0].regeocodeData.addressComponent.province,e.activeProvince=t[0].regeocodeData.addressComponent.province):(e.city="上海市",e.activeProvince="上海市"),e.searchParams.province=e.activeCity||e.activeProvince,e.getGroupList()},fail:function(i){e.getGroupList(),t("log",i," at pages/home/home.vue:298")}}),this.current=this.city},getSystemInfo:function(){var t=this;a.getSystemInfo().then(function(e){var i=h(e,2),a=(i[0],i[1]);t.windowHeight="".concat(a.windowHeight,"px")})},scrollTo:function(t){this.scrollIntoId="#"===t?"current":t},toggleSelectCity:function(){this.showSelectCity=!0},confirmSelectCity:function(){this.searchParams.province="",this.searchParams.district="",this.searchParams.city=this.current,this.activeProvince="",this.activeCity="",this.activeArea="",this.showSelectCity=!1,this.city=this.current,this.getGroupList()},cancelSelectCity:function(){this.showSelectCity=!1,this.getGroupList()},onSelect:function(t){this.current=t},getCurPage:function(){var t=getCurrentPages(),e=t[t.length-1];return e},init:function(){this.provinceDataList=c.default,this.cityDataList=o.default[this.pickerValueDefault[0]],this.areaDataList=r.default[this.pickerValueDefault[0]][this.pickerValueDefault[1]],this.pickerValue=this.pickerValueDefault},confirmPosition:function(){this.searchParams.province=this.activeProvince,this.searchParams.city=this.activeCity,this.searchParams.district=this.activeArea,this.activeTab="0",this.city=this.current,this.getGroupList()},cancelPosition:function(){this.activeTab="0"},chooseEmptyProvince:function(){this.activeProvince="",this.activeCity="",this.activeArea="",this.cityDataList=[],this.areaDataList=[]},chooseEmptyCity:function(){this.activeCity="",this.activeArea="",this.areaDataList=[]},chooseEmptyArea:function(){this.activeArea=""},chooseProvince:function(t,e){this.activeProvince=t.label,this.pickerValueDefault[0]=e,this.cityDataList=o.default[this.pickerValueDefault[0]],this.areaDataList=r.default[this.pickerValueDefault[0]][this.pickerValueDefault[1]]},chooseCity:function(t,e){this.activeCity=t.label,this.pickerValueDefault[1]=e,this.areaDataList=r.default[this.pickerValueDefault[0]][this.pickerValueDefault[1]]},chooseArea:function(t,e){this.activeArea=t.label,this.pickerValueDefault[2]=e},clearKeyword:function(){this.searchParams.college="",this.getGroupList()},toggleTab:function(t){this.activeTab=t.value},toGoods:function(t){a.navigateTo({url:"/pages/home/detail?id=".concat(t.id)})},release:function(){a.navigateTo({url:"/pages/release/release"})},cancelType:function(){this.cotenantType=this.searchParams.cotenant_type,this.activeTab="0"},cancelCount:function(){this.cotenantCount=this.searchParams.cotenant_count,this.activeTab="0"},confirmType:function(){this.searchParams.cotenant_type=this.cotenantType,this.getGroupList()},confirmCount:function(){this.searchParams.cotenant_count=this.cotenantCount,this.getGroupList()},changeRentType:function(t){this.cotenantType=t},changeRentCount:function(t){this.cotenantCount=t},getGroupList:function(){var e=this;this.activeTab="0";var i={};this.searchParams.college&&(i.college=this.searchParams.college),this.searchParams.cotenant_type&&(i.cotenantType=this.searchParams.cotenant_type),this.searchParams.province&&(i.province=this.searchParams.province),this.searchParams.city&&(i.city=this.searchParams.city),this.searchParams.district&&(i.district=this.searchParams.district),i.cotenantCount=this.searchParams.cotenant_count,this.loadingText="正在加载...",t("log",i," at pages/home/home.vue:473"),this.$api.getGroupList(i).then(function(t){e.loadModal=!1,t.data.forEach(function(t){t.imgUrlList=t.chamber_img_url&&t.chamber_img_url.split(",")||[]}),e.productList=t.data,t.data.length?e.loadingText="":e.loadingText="暂无更多数据"}).catch(function(t){e.loadModal=!1,e.loadingText=""})}}};e.default=m}).call(this,i("0de9")["default"],i("6e42")["default"])},"3be2":function(t,e,i){"use strict";var a,n=function(){var t=this,e=t.$createElement;t._self._c},c=[];i.d(e,"b",function(){return n}),i.d(e,"c",function(){return c}),i.d(e,"a",function(){return a})},"5b1e":function(t,e,i){"use strict";i.r(e);var a=i("3be2"),n=i("8e8b");for(var c in n)"default"!==c&&function(t){i.d(e,t,function(){return n[t]})}(c);i("cb78");var o,r=i("f0c5"),s=Object(r["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],o);e["default"]=s.exports},"5f4a":function(t,e,i){"use strict";(function(t){i("24e0"),i("921b");a(i("66fd"));var e=a(i("5b1e"));function a(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,i("6e42")["createPage"])},"8e8b":function(t,e,i){"use strict";i.r(e);var a=i("0bf0"),n=i.n(a);for(var c in a)"default"!==c&&function(t){i.d(e,t,function(){return a[t]})}(c);e["default"]=n.a},a6c4:function(t,e,i){},cb78:function(t,e,i){"use strict";var a=i("a6c4"),n=i.n(a);n.a}},[["5f4a","common/runtime","common/vendor"]]]);